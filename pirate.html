<!DOCTYPE html>
<html>

<head>
  <title>Pirates</title>
  <style>
    h1 {
      background-color: #333;
      color: #fff;
      padding: 20px;
      text-align: center;
      font-size: 24px;
      border-bottom: 2px solid #fff;
      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3);
    }

    .flex-container {
      display: flex;
      flex-direction: row;
      background-color: rgb(100, 79, 12);

    }

    .flex-container>div {
      /*div children of the flex container*/
      background-color: #efcb54;
      margin: 5px 5px 5px auto;
      padding: 10px;
      font-size: 20px;
    }

    /* Responsive layout */
    @media (max-width: 500px) {
      g .flex-container {
        flex-direction: column;
        background-color: green;

      }
    }

    .grid-container {
      display: flex;

      flex-direction: row;
      max-width: 500px;

      margin: 0 auto;

    }


    .search-location {
      flex: 0 0 calc(20% - 10px);
      margin: 1px;
      border: 1px solid #6a5100;
      text-align: center;
      padding: 1px;
    }


    .search-location img {
      max-width: 100%;
      height: 100%;
    }
  </style>
</head>


<body>
  <h1>Find the treasure by Yaswanth Kanakala</h1>
  <div class="flex-container">
    <div>
      <p>Click on the locations to search for treasure, beware the traps</p>
    </div>

    <div>
      <p id="locations">Number of locations checked is zero.</p>
    </div>
    <div>
      <p id="penalty">Penalty is zero.</p>
    </div>

    <div>
      <p id="help">Click for help.</p>
      <button id="helpButton" onclick="showHelp()">HELP</button>
      
    </div>
    <div class="gamebutton ">
      <button id="Bonus" onclick="newGame()">Bonus Game</p>
      
    </div>
  </div>
  <div class="grid-container">
    <div class="search-location">
      <img id="id_1" src="treasuredoor.png" alt="Starting Location" onclick="check(0)">
    </div>
    <div class="search-location">
      <img id="id_2" src="treasuredoor.png" alt="treasure" onclick="check(1)">
    </div>
    <div class="search-location">
      <img id="id_3" src="treasuredoor.png" alt="Traps" onclick="check(2)">
    </div>
    <div class="search-location">
      <img id="id_4" src="treasuredoor.png" alt="Pirate" onclick="check(3)">
    </div>
    <div class="search-location">
      <img id="id_5" src="treasuredoor.png" alt="Starting Location" onclick="check(4)">
    </div>
  </div>
  <div class="grid-container">
    <div class="search-location">
      <img id="id_6" src="treasuredoor.png" alt="Starting Location" onclick="check(5)">
    </div>
    <div class="search-location">
      <img id="id_7" src="treasuredoor.png" alt="treasure" onclick="check(6)">
    </div>
    <div class="search-location">
      <img id="id_8" src="treasuredoor.png" alt="Traps" onclick="check(7)">
    </div>
    <div class="search-location">
      <img id="id_9" src="treasuredoor.png" alt="Pirate" onclick="check(8)">
    </div>
    <div class="search-location">
      <img id="id_10" src="treasuredoor.png" alt="Starting Location" onclick="check(9)">
    </div>

  </div>
  <div class="grid-container">
    <div class="search-location">
      <img id="id_11" src="treasuredoor.png" alt="Starting Location" onclick="check(10)">
    </div>
    <div class="search-location">
      <img id="id_12" src="treasuredoor.png" alt="treasure" onclick="check(11)">
    </div>
    <div class="search-location">
      <img id="id_13" src="treasuredoor.png" alt="Traps" onclick="check(12)">
    </div>
    <div class="search-location">
      <img id="id_14" src="treasuredoor.png" alt="Pirate" onclick="check(13)">
    </div>
    <div class="search-location">
      <img id="id_15" src="treasuredoor.png" alt="Starting Location" onclick="check(14)">
    </div>

  </div>
  <div class="grid-container">
    <div class="search-location">
      <img id="id_16" src="treasuredoor.png" alt="Starting Location" onclick="check(15)">
    </div>
    <div class="search-location">
      <img id="id_17" src="treasuredoor.png" alt="treasure" onclick="check(16)">
    </div>
    <div class="search-location">
      <img id="id_18" src="treasuredoor.png" alt="Traps" onclick="check(17)">
    </div>
    <div class="search-location">
      <img id="id_19" src="treasuredoor.png" alt="Pirate" onclick="check(18)">
    </div>
    <div class="search-location">
      <img id="id_20" src="treasuredoor.png" alt="Starting Location" onclick="check(19)">
    </div>

  </div>
  <div class="grid-container">
    <div class="search-location">
      <img id="id_21" src="treasuredoor.png" alt="Starting Location" onclick="check(20)">
    </div>
    <div class="search-location">
      <img id="id_22" src="treasuredoor.png" alt="treasure" onclick="check(21)">
    </div>
    <div class="search-location">
      <img id="id_23" src="treasuredoor.png" alt="Traps" onclick="check(22)">
    </div>
    <div class="search-location">
      <img id="id_24" src="treasuredoor.png" alt="Pirate" onclick="check(23)">
    </div>
    <div class="search-location">
      <img id="id_25" src="treasuredoor.png" alt="Starting Location" onclick="check(24)">
    </div>

  </div>
  <script>
    var ids = ["id_1", "id_2", "id_3", "id_4",
      "id_5", "id_6", "id_7", "id_8", "id_9",
      "id_10", "id_11", "id_12", "id_13", "id_14",
      "id_15", "id_16", "id_17", "id_18", "id_19",
      "id_20", "id_21", "id_22", "id_23", "id_24", "id_25"];

    var checkCount = 0;
    var penalty = 0;
    var lastCheck = 0;
    var treasureLocation = 5;
    var trapLocation = 18;
    var gameOver = false;


    function check(position) {
      if (gameOver) return;

      const id = ids[position];
      const imageElement = document.getElementById(id);

      let imageSrc = "";
      if (position === treasureLocation) {
        imageSrc = "treasure.jpeg";
        gameOver = true;
        penalty -= 3;
        checkCount++;
      } else if (position === trapLocation) {
        imageSrc = "traps.png";
        gameOver = true;
        penalty += 4;
        checkCount++;
      } else {
        imageSrc = "pirate.jpeg";
        checkCount++;
        penalty++;
      }

      imageElement.setAttribute("src", imageSrc);
      document.getElementById("locations").textContent = "Number of locations checked is : " + checkCount;
      document.getElementById("penalty").textContent = "Penalty is : " + penalty;
      lastCheck = position;
    }



    function help() {
      const rowColTreasure = { row: Math.floor(treasureLocation / 5), col: treasureLocation % 5 };
      const rowColLast = { row: Math.floor(lastCheck / 5), col: lastCheck % 5 };

      const rowDiff = Math.abs(rowColTreasure.row - rowColLast.row);
      const colDiff = Math.abs(rowColTreasure.col - rowColLast.col);

      if (rowDiff + colDiff === 1) {
        return "Can smell it";
      } else if (rowDiff + colDiff === 2) {
        return "Close Matie";
      } else {
        return "Step Faster";
      }
    }
    function showHelp() {
      document.getElementById("help").textContent = help();
      penalty += 2;
      document.getElementById("penalty").textContent = "Penalty is : " + penalty;
         }

    function newGame() {
    checkCount = 0;
    penalty = 0;
    lastCheck = 0;
    gameOver = false;

    treasureLocation = Math.floor(Math.random() * 25);
    do {
        trapLocation = Math.floor(Math.random() * 25);
    } while (trapLocation === treasureLocation);

    document.getElementById("locations").textContent = "Number of locations checked is : " + checkCount;
    document.getElementById("penalty").textContent = "Penalty is : " + penalty;
    document.getElementById("help").textContent = "Help report";

    for (var i = 0; i < 25; i++) {
        document.getElementById(ids[i]).src = "treasuredoor.png"
    }
}


  </script>




</body>

</html>